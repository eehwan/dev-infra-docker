# ğŸ“Œ ì´ íŒŒì¼ì€ ê°œë°œ í™˜ê²½ìš© Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì • í…œí”Œë¦¿ì…ë‹ˆë‹¤.
# ì‹¤ì œ ë„ë©”ì¸ê³¼ ë‚´ë¶€ ì„œë¹„ìŠ¤ ì´ë¦„ì— ë§ê²Œ ìˆ˜ì •í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”.

# ì• í”Œë¦¬ì¼€ì´ì…˜ API ì„œë²„
server {
    listen 80;
    server_name <your-api-domain>;  # ì˜ˆ: api.localhost ë˜ëŠ” your.api.domain

    location / {
        proxy_pass http://<app_service_name>:<app_service_port>;  # ì˜ˆ: http://web:8000
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# MailHog UI
server {
    listen 80;
    server_name <your-mailhog-domain>;

    location / {
        proxy_pass http://mailhog:8025;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Adminer UI
server {
    listen 80;
    server_name <your-adminer-domain>;

    location / {
        proxy_pass http://adminer:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# MinIO Web Console
server {
    listen 80;
    server_name <your-minio-console-domain>;

    location / {
        proxy_pass http://minio:9001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# MinIO S3 API Endpoint
server {
    listen 80;
    server_name <your-s3-api-domain>;

    location / {
        proxy_pass http://minio:9000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
